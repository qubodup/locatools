<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Character Frequency Analyzer</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      margin: 2rem;
      line-height: 1.4;
    }

    textarea {
      width: 100%;
      height: 150px;
      font-family: monospace;
      margin-bottom: 1rem;
    }

    button {
      margin-bottom: 1.5rem;
    }

    .tables {
      display: flex;
      gap: 2rem;
      align-items: flex-start;
    }

    .table-wrapper {
      flex: 1;
      min-width: 0;
    }

    table {
      border-collapse: collapse;
      width: 100%;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 0.4rem 0.6rem;
      text-align: left;
    }

    th {
      background: #f3f3f3;
    }

    .char {
      font-family: monospace;
      white-space: pre;
    }

    @media (max-width: 900px) {
      .tables {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

  <h1>Character Frequency Analyzer</h1>

  <textarea id="input" placeholder="Paste or type text hereâ€¦"></textarea>
  <button onclick="analyze()">Analyze</button>

  <div class="tables">

    <div class="table-wrapper">
      <h2>All Characters</h2>
      <table id="allChars">
        <thead>
          <tr>
            <th>Character</th>
            <th>Unicode</th>
            <th>Count</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="table-wrapper">
      <h2>Non-ASCII Characters</h2>
      <table id="nonAscii">
        <thead>
          <tr>
            <th>Character</th>
            <th>Unicode</th>
            <th>Count</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

  </div>

<script>
function analyze() {
  const text = document.getElementById("input").value;
  const counts = new Map();

  for (const ch of text) {
    counts.set(ch, (counts.get(ch) || 0) + 1);
  }

  const rows = Array.from(counts.entries())
    .map(([char, count]) => {
      const cp = char.codePointAt(0);
      return {
        char,
        count,
        codePoint: cp,
        unicode: "U+" + cp.toString(16).toUpperCase().padStart(4, "0")
      };
    })
    .sort((a, b) => b.count - a.count);

  const allBody = document.querySelector("#allChars tbody");
  const nonAsciiBody = document.querySelector("#nonAscii tbody");

  allBody.innerHTML = "";
  nonAsciiBody.innerHTML = "";

  for (const row of rows) {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td class="char">${row.char}</td>
      <td>${row.unicode}</td>
      <td>${row.count}</td>
    `;
    allBody.appendChild(tr);

    if (row.codePoint > 0x7F) {
      nonAsciiBody.appendChild(tr.cloneNode(true));
    }
  }
}
</script>

</body>
</html>
